# Global workmux configuration
# https://workmux.raine.dev/guide/configuration

# Bare repo layout by default (worktrees as siblings to main)
worktree_dir: "{{ branch | sanitize }}/"

# Default branch for merge targets
main_branch: main

# Default agent for -a flag
agent: opencode

# Merge strategy: merge, rebase, or squash
merge_strategy: rebase

# Status icons in tmux window names (matches opencode-tmux-namer)
# opencode-tmux-namer handles status display, so workmux defers to it
status_icons:
  working: "●"
  waiting: "■"
  done: "□"

# Enable nerdfont icons
nerdfont: true

# Auto branch naming via LLM
auto_name:
  model: claude-haiku-4.5
  system_prompt: |
    Generate a concise kebab-case branch name from the task description.
    Max 3-4 words. No prefixes like 'feature/' or 'fix/'.
    Examples: fix-auth-timeout, add-user-settings, refactor-api-client

# Symlink to avoid reinstalling deps in each worktree
files:
  symlink:
    - node_modules

# Pane layout: opencode left, nvim + shell stacked on right
panes:
  - command: <agent> # opencode agent (takes full window first)
    focus: true
  - split: horizontal # Split left/right (opencode left, nvim right)
    command: nvim
  - split: vertical # Split right pane top/bottom (nvim top, shell bottom)
