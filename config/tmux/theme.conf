# Tmux Theme Configuration
# Minimal theme inspired by hlissner/dotfiles with auto-hide status bar
#
# Using adaptive terminal colors that work with any terminal theme.
# Catppuccin Mocha hex equivalents shown in comments for reference.

########################################
# Auto-hide Status Bar                 #
########################################
# Status bar hidden by default, shown only when >1 window exists

set -g status off

# Auto-show/hide status bar based on window count
set-hook -g after-new-window      'if "[ #{session_windows} -gt 1 ]" "set status on"'
set-hook -g after-kill-pane       'if "[ #{session_windows} -lt 2 ]" "set status off"'
set-hook -g pane-exited           'if "[ #{session_windows} -lt 2 ]" "set status off"'
set-hook -g window-layout-changed 'if "[ #{session_windows} -lt 2 ]" "set status off"'

########################################
# Minimal Theme                        #
########################################
# Simple window name pills, no fancy modules

set -g status-position bottom
set -g status-justify right
set -g status-style bg=default,fg=colour5  # Adaptive magenta (Catppuccin: #cba6f7 mauve)

set -g status-left '#{prefix_highlight}'
set -g status-right ''  # Will be populated by opencode-status plugin
set -g status-right-length 30
set -g status-left-length 30

# Window styling - simple pills with names only
setw -g window-status-format ' #[bg=colour238] #W #[bg=default] '                    # colour238 = dark gray (Catppuccin: #313244 surface0)
setw -g window-status-current-format ' #[bg=colour5,fg=colour0] #W #[bg=default] '   # colour5 = magenta, colour0 = black (Catppuccin: #cba6f7/#1e1e2e)

# Pane borders
set -g pane-border-style fg=colour235          # Very dark gray (Catppuccin: #181825 mantle)
set -g pane-active-border-style fg=colour5     # Magenta accent (Catppuccin: #cba6f7 mauve)

# Dim inactive panes for visual focus (Catppuccin Mocha)
set-window-option -g window-style 'bg=#181825'        # Mantle - inactive panes
set-window-option -g window-active-style 'bg=#1e1e2e' # Base - active pane

# Messages
set -g message-style fg=magenta,bg=colour236   # colour236 = dark gray (Catppuccin: #313244 surface0)
set -g message-command-style fg=blue,bg=black

# Clock
setw -g clock-mode-colour colour135            # Purple (Catppuccin: #cba6f7 mauve)

########################################
# Behavior                             #
########################################
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity on
set-option -g bell-action none

########################################
# Prefix Highlight Plugin              #
########################################
set -g @prefix_highlight_fg 'colour0'
set -g @prefix_highlight_bg 'colour5'
set -g @prefix_highlight_copy_mode_attr 'fg=colour0,bg=colour4'
set -g @prefix_highlight_empty_prompt '     '
set -g @prefix_highlight_prefix_prompt ' C-c '
set -g @prefix_highlight_show_copy_mode 'on'

########################################
# Catppuccin Theme (Alternative)       #
########################################
# Uncomment below and comment out Minimal Theme section above to switch back
# Requires the catppuccin tmux plugin (already loaded in tmux.nix)
#
# set -g @catppuccin_flavor 'mocha'
# set -g @catppuccin_window_status_style 'rounded'
# set -g @catppuccin_window_number_position 'right'
# set -g @catppuccin_window_default_fill 'number'
# set -g @catppuccin_window_default_text '#W'
# set -g @catppuccin_window_current_fill 'number'
# set -g @catppuccin_window_current_text '#W'
# set -g @catppuccin_status_left_separator ' '
# set -g @catppuccin_status_right_separator ''
# set -g @catppuccin_status_fill 'icon'
# set -g @catppuccin_status_connect_separator 'no'
# set -g @catppuccin_status_modules_right 'directory session'
# set -g @catppuccin_directory_text '#{pane_current_path}'
# set -g pane-border-style 'fg=#313244'
# set -g pane-active-border-style 'fg=#cba6f7'
# set -g message-style 'fg=#cdd6f4,bg=#313244'
# set -g message-command-style 'fg=#89b4fa,bg=#313244'
# setw -g clock-mode-colour '#cba6f7'
