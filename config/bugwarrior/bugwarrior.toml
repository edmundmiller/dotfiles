[general]
targets = [
    "my_reminders",
    "work_linear",
    "seqera_jira",
    "github_nfcore_issues",
    "github_nfcore_prs",
    "github_seqera_issues",
    "github_seqera_prs",
    "github_personal_issues",
    "github_personal_prs",
    "github_phd_issues",
    "github_phd_prs",
]
taskrc = "~/.taskrc"
log_level = "INFO"
annotation_links = true
merge_annotations = true
merge_tags = true
reopen_completed_tasks = false

[my_reminders]
service = "applereminders"
description_template = "{{applereminderstitle}}"
# Only pull from Reminders list for now
lists = ["Reminders"]
# TODO: Add Family list once only_if_assigned support is implemented for applereminders service
area_template = "personal"

[work_linear]
service = "linear"
api_token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-linear-token"
description_template = "{{linearidentifier}} - {{lineartitle}}"
only_if_assigned = "edmund.a.miller@gmail.com"
status_types = ["unstarted", "started"]
import_labels_as_tags = true
add_tags = ["linear"]
default_priority = "M"
area_template = "family"

# =============================================================================
# Jira Targets
# =============================================================================

[seqera_jira]
service = "jira"
base_uri = "https://seqera.atlassian.net"
username = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-jira-username"
password = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-jira-password"
description_template = "{{jirasummary}}"
project_template = "{{jiraproject}}"
query = "(assignee = currentUser() OR reporter = currentUser()) AND resolution is null"
import_labels_as_tags = true
import_sprints_as_tags = true
label_template = "{{label}}"
priority_template = "{% if jirapriority == 'Highest' or jirapriority == 'High' %}H{% elif jirapriority == 'Low' or jirapriority == 'Lowest' %}L{% else %}M{% endif %}"
add_tags = ["jira", "bw"]
area_template = "seqera"

# =============================================================================
# GitHub Targets - Grouped by Workspace
# =============================================================================

# -----------------------------------------------------------------------------
# nf-core workspace: nf-core, bioinformaticsorphanage, bioconda
# -----------------------------------------------------------------------------
[github_nfcore_issues]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "{{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:issue assignee:edmundmiller is:open updated:>=2025-09-09 org:nf-core org:bioinformaticsorphanage org:bioconda"
include_user_issues = false
include_user_repos = false
add_tags = ["github", "bw", "assigned"]
default_priority = "L"
area_template = "nfcore"

[github_nfcore_prs]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "Review {{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:pr assignee:edmundmiller is:open updated:>=2025-09-09 org:nf-core org:bioinformaticsorphanage org:bioconda -author:app/renovate -author:app/dependabot"
include_user_issues = false
include_user_repos = false
add_tags = ["PR", "github", "bw"]
default_priority = "L"
area_template = "nfcore"

# -----------------------------------------------------------------------------
# seqera workspace: nextflow-io, seqeralabs, seqera-services
# -----------------------------------------------------------------------------
[github_seqera_issues]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "{{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:issue assignee:edmundmiller is:open updated:>=2025-09-09 org:nextflow-io org:seqeralabs org:seqera-services"
include_user_issues = false
include_user_repos = false
add_tags = ["github", "bw", "assigned"]
default_priority = "L"
area_template = "seqera"

[github_seqera_prs]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "Review {{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:pr assignee:edmundmiller is:open updated:>=2025-09-09 org:nextflow-io org:seqeralabs org:seqera-services -author:app/renovate -author:app/dependabot"
include_user_issues = false
include_user_repos = false
add_tags = ["PR", "github", "bw"]
default_priority = "L"
area_template = "seqera"

# -----------------------------------------------------------------------------
# personal workspace: edmundmiller, BioJulia
# -----------------------------------------------------------------------------
[github_personal_issues]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "{{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:issue assignee:edmundmiller is:open updated:>=2025-09-09 user:edmundmiller org:BioJulia -repo:edmundmiller/mill-docs"
include_user_issues = false
include_user_repos = false
add_tags = ["github", "bw", "assigned"]
default_priority = "L"
area_template = "personal"

[github_personal_prs]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "Review {{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:pr assignee:edmundmiller is:open updated:>=2025-09-09 user:edmundmiller org:BioJulia -author:app/renovate -author:app/dependabot"
include_user_issues = false
include_user_repos = false
add_tags = ["PR", "github", "bw"]
default_priority = "L"
area_template = "personal"

# -----------------------------------------------------------------------------
# phd workspace: Functional-Genomics-Lab
# -----------------------------------------------------------------------------
[github_phd_issues]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "{{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:issue assignee:edmundmiller is:open updated:>=2025-09-09 org:Functional-Genomics-Lab"
include_user_issues = false
include_user_repos = false
add_tags = ["github", "bw", "assigned"]
default_priority = "L"
area_template = "phd"

[github_phd_prs]
service = "github"
login = "edmundmiller"
token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
username = "edmundmiller"
description_template = "Review {{githubtitle}}"
project_template = "{{githubrepo|replace('/', '.')}}"
query = "is:pr assignee:edmundmiller is:open updated:>=2025-09-09 org:Functional-Genomics-Lab -author:app/renovate -author:app/dependabot"
include_user_issues = false
include_user_repos = false
add_tags = ["PR", "github", "bw"]
default_priority = "L"
area_template = "phd"

# TODO: Add PR reviews target - uncomment when ready
# [github_reviews]
# service = "github"
# login = "edmundmiller"
# token = "@oracle:eval:cat /usr/local/var/opnix/secrets/bugwarrior-github-token"
# username = "edmundmiller"
# description_template = "Review {{githubtitle}}"
# project_template = "{{githubrepo|replace('/', '.')}}"
# # PRs requesting your review that aren't drafts
# query = "is:pr review-requested:edmundmiller is:open draft:false"
# include_user_issues = false
# include_user_repos = false
# add_tags = ["PR", "github", "bw"]
# default_priority = "H"
