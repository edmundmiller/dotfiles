# Functional theme - Minimal tmux config
# Inspired by hlissner/dotfiles autumnal theme
#
# Status bar auto-hides when only one window exists

# Pane borders
set -g pane-active-border-style fg=colour5
set -g pane-border-style fg=colour238

# Status bar - hidden by default, shown only when >1 window
set -g status off
set -g status-position bottom
set -g status-style bg=default
set -g status-left '#{prefix_highlight}'
set -g status-right ''

# Auto-show/hide status bar based on window count
set-hook -g after-new-window      'if "[ #{session_windows} -gt 1 ]" "set status on"'
set-hook -g after-kill-pane       'if "[ #{session_windows} -lt 2 ]" "set status off"'
set-hook -g pane-exited           'if "[ #{session_windows} -lt 2 ]" "set status off"'
set-hook -g window-layout-changed 'if "[ #{session_windows} -lt 2 ]" "set status off"'

# Window format (when status is visible)
setw -g window-status-format ' #W '
setw -g window-status-current-format ' #W '

# Messages
set -g message-style fg=magenta,bg=colour236
set -g message-command-style fg=blue,bg=black

# Behavior
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity on
set-option -g bell-action none

# Clock
setw -g clock-mode-colour colour135

# tmux-prefix-highlight
set -g @prefix_highlight_empty_prompt '     '
set -g @prefix_highlight_prefix_prompt ' C-c '
set -g @prefix_highlight_show_copy_mode 'on'
